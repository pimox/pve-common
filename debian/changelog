libpve-common-perl (6.4-2rpve1) pve pmg rpve; urgency=medium

  * Disable test which rely on the timezone being specific

 -- Tim <tim.j.wilkinson@gmail.com>  Wed, 05 May 2021 12:29:16 -0700

libpve-common-perl (6.4-2) pve pmg; urgency=medium

  * INotify: add support for a loopback like "dummy" interfaces type required
    for bgp with multipath/ecmp to have a unique src ip

  * REST handler: make potentially resource intensive API return validation
    opt-in, enable it only in the CLI handler by default. It was not really
    useful anyway, and most of the time we had false positives due to the
    schema missing some optional property.

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Apr 2021 19:34:21 +0200

libpve-common-perl (6.4-1) pve pmg; urgency=medium

  * cli: get options: don't set optional positional params to `undef`

  * JSONSchema: don't cycle-check 'download' responses

  * daemon: create_reusable_socket: listen on IPv6 and IPv4

  * PBS client: add file-restore helper

  * allow workers to log and count warnings, providing the WARNING finish-state
    for tasks which encounered some non-fatal problems

 -- Proxmox Support Team <support@proxmox.com>  Fri, 23 Apr 2021 14:59:51 +0200

libpve-common-perl (6.3-5) pve pmg; urgency=medium

  * network: get_local_ip_from_cidr: filter to only return unique IPs

  * format: fix render_bytes with CLIFormatter

 -- Proxmox Support Team <support@proxmox.com>  Tue, 09 Mar 2021 08:35:04 +0100

libpve-common-perl (6.3-4) pve pmg; urgency=medium

  * sendmail: use more complete email regex and shellquote

  * register email-or-username format

  * fix #3259: always free certificate file after reading it

 -- Proxmox Support Team <support@proxmox.com>  Fri, 19 Feb 2021 15:50:16 +0100

libpve-common-perl (6.3-3) pve pmg; urgency=medium

  * SectionConfig: parse_config: add errors to result

  * extract PVE::Format from PVE::CLIFormatter for reuse

  * add CGroup CPU/IO/Memory pressure stats helpers

 -- Proxmox Support Team <support@proxmox.com>  Mon, 08 Feb 2021 16:09:09 +0100

libpve-common-perl (6.3-2) pve pmg; urgency=medium

  * PBS client: add helper method to get a repository url easier

  * tools: add extract_sensitive_params

 -- Proxmox Support Team <support@proxmox.com>  Thu, 03 Dec 2020 16:53:17 +0100

libpve-common-perl (6.3-1) pve pmg; urgency=medium

  * subscription: use more specific machine repo definition for Proxmox VE and
    Proxmox Mail Gateway, to improve co-installability of all products.

  * network: ignore vlan-id if already specified by "iface.X" notation

 -- Proxmox Support Team <support@proxmox.com>  Fri, 27 Nov 2020 15:30:18 +0100

libpve-common-perl (6.2-6) pve pmg; urgency=medium

  * rest: register method: allow minus in path template parameter names

 -- Proxmox Support Team <support@proxmox.com>  Tue, 17 Nov 2020 16:07:53 +0100

libpve-common-perl (6.2-5) pve pmg; urgency=medium

  * move over CGroup handling code for reuse

  * move over Proxmox Backup Sercer client helper module for reuse

 -- Proxmox Support Team <support@proxmox.com>  Tue, 17 Nov 2020 14:29:13 +0100

libpve-common-perl (6.2-4) pve pmg; urgency=medium

  * fix #3108: properly check IPv6 local address

  * systemd: add helpers for parsing unit files

  * network config parser: allow bond of bond

  * ProcFSTools: add helper methods to read CPU/Memory/IO pressure metrics

 -- Proxmox Support Team <support@proxmox.com>  Thu, 05 Nov 2020 10:55:57 +0100

libpve-common-perl (6.2-3) pve pmg; urgency=medium

  * properly encode CLI tool's output when using YAML output-format via
    YAML::XS

  * fix the behavior of the sync_mountpoint helper and improve its error
    propagation

 -- Proxmox Support Team <support@proxmox.com>  Fri, 18 Sep 2020 17:33:56 +0200

libpve-common-perl (6.2-2) pve pmg; urgency=medium

  * sendmail helper: only send multipart if necessary

  * sendmail helper: allow empty display name in "from" field

  * CLI option parser: allow ommiting optional positional arguemnts, if there's
    no ambiguity about it.

 -- Proxmox Support Team <support@proxmox.com>  Mon, 07 Sep 2020 10:01:03 +0200

libpve-common-perl (6.2-1) pve pmg; urgency=medium

  * file get contents: bump default size limit to 512k to match pmxcfs max file
    size

  * run command helper: improve performance for logging and long lines

  * run command helper: fix matching of \r\n line ending

 -- Proxmox Support Team <support@proxmox.com>  Wed, 19 Aug 2020 12:29:06 +0200

libpve-common-perl (6.1-5) pve pmg; urgency=medium

  * JSONSchema: add format validator support and cleanup check_format

  * sendmail: separate 'mailto' list from the rest of the parameters

 -- Proxmox Support Team <support@proxmox.com>  Tue, 07 Jul 2020 19:26:58 +0200

libpve-common-perl (6.1-4) pve pmg; urgency=medium

  * fix #2374: bridge-ports is assumed to be defined

  * schema: register timezone format and add verification method

  * fix #2796: debian/postinst: check for existing /etc/aliases

 -- Proxmox Support Team <support@proxmox.com>  Fri, 03 Jul 2020 14:16:49 +0200

libpve-common-perl (6.1-3) pve pmg; urgency=medium

  * network: vlan-aware bridge: fix PVID when trunks are defined

  * Add total sum of physical CPU core count to CPU info used by node status
    API call

  * netowrk: always autostart bond slaves interfaces

 -- Proxmox Support Team <support@proxmox.com>  Mon, 08 Jun 2020 17:37:11 +0200

libpve-common-perl (6.1-2) pve pmg; urgency=medium

  * fix adding VLAN trunks to virtual guests NICs

 -- Proxmox Support Team <support@proxmox.com>  Sat, 09 May 2020 21:00:29 +0200

libpve-common-perl (6.1-1) pve pmg; urgency=medium

  * fix #2696: avoid 'undefined value' warning in unkown commands

  * ProcFSTools: fix read_meminfo without KSM

  * network: fix adding vlan tags to bridge

 -- Proxmox Support Team <support@proxmox.com>  Wed, 06 May 2020 12:14:19 +0200

libpve-common-perl (6.0-20) pve pmg; urgency=medium

  * network: replace system() with run_command()

  * acme: split out into new package proxmox-acme-perl

 -- Proxmox Support Team <support@proxmox.com>  Mon, 20 Apr 2020 10:03:53 +0200

libpve-common-perl (6.0-19) pve pmg; urgency=medium

  * cpuset: cgroupv2 support and cleanup/refactor

  * cpuset: allow empty cpusets

  * JSONSchema: add acme-plugin-format

  * JSONSchema: add idmap parser and storagepair format

 -- Proxmox Support Team <support@proxmox.com>  Sat, 04 Apr 2020 19:55:24 +0200

libpve-common-perl (6.0-18) pve pmg; urgency=medium

  * ldap: add optional classes to query_users and use them to filter

  * ldap: optionally save group name by attribute

 -- Proxmox Support Team <support@proxmox.com>  Sat, 21 Mar 2020 16:49:47 +0100

libpve-common-perl (6.0-17) pve pmg; urgency=medium

  * inotify: ensure backwards compatibility on interface read

  * normalize cidr, address and netmask entries.

 -- Proxmox Support Team <support@proxmox.com>  Fri, 13 Mar 2020 12:24:58 +0100

libpve-common-perl (6.0-16) pve pmg; urgency=medium

  * notify: fix compatibility when address and netmask got passed separately on
    write

 -- Proxmox Support Team <support@proxmox.com>  Thu, 12 Mar 2020 16:15:17 +0100

libpve-common-perl (6.0-15) pve pmg; urgency=medium

  * inotify: read interfaces: avoid uninitialized value access

  * RESTHandler getopt_usage: schema properties can be optional

  * add ldap-simple-attr format from Proxmox Mailgateway for reuse

 -- Proxmox Support Team <support@proxmox.com>  Mon, 09 Mar 2020 17:01:42 +0100

libpve-common-perl (6.0-14) pve pmg; urgency=medium

  * INotify: use 'auto' for ovs interfaces with ifupdown2

  * INotify : fix OVSBond and OvsintPort order, and add more tests

 -- Proxmox Support Team <support@proxmox.com>  Sat, 07 Mar 2020 17:51:16 +0100

libpve-common-perl (6.0-13) pve pmg; urgency=medium

  * INotify: fix mtu check and add test

  * INotify : check_bridge : fix bridge-ports with vlan tagged interface

  * zsh-completion: Add missing "options end here flag" to compadd

  * get_ip_from_hostname: check all address we get from getaddrinfo_all for non-local IP

  * INotify: use cidr for address on config change

  * partially fix #2618: increase maximum port for spice to 61999

  * add LDAP Wrapper code from Mailgateway

 -- Proxmox Support Team <support@proxmox.com>  Wed, 04 Mar 2020 15:44:15 +0100

libpve-common-perl (6.0-12) pve pmg; urgency=medium

  * systemd: add un-/escape_unit helpers

  * procfs: add check_kernel_release

 -- Proxmox Support Team <support@proxmox.com>  Fri, 31 Jan 2020 10:32:59 +0100

libpve-common-perl (6.0-11) pve pmg; urgency=medium

  * ACME: use GET-as-POST call for compatibility with new API authorization
    requirements

  * API schema: add 'allowtoken' property

  * INotify network: improve vlan interface parsing

 -- Proxmox Support Team <support@proxmox.com>  Tue, 28 Jan 2020 11:33:21 +0100

libpve-common-perl (6.0-10) pve pmg; urgency=medium

  * INotify: add "bond-primary" and "ovs_mtu" option

  * INotify: allow vlan tagged bridge interface on non-vlanaware bridge

  * INotify: forbid ip address on bridged interface.

  * generate_csr: allow to set CN explicitly

 -- Proxmox Support Team <support@proxmox.com>  Mon, 13 Jan 2020 17:51:58 +0100

libpve-common-perl (6.0-9) pve pmg; urgency=medium

  * add kernel_version helper to ProcFSTools

 -- Proxmox Support Team <support@proxmox.com>  Sat, 23 Nov 2019 16:15:10 +0100

libpve-common-perl (6.0-8) pve pmg; urgency=medium

  * fix Tools::df for big storage usage values

  * ProcFSTools: include ppid in read_proc_pid_stat

  * add new Kernel mount API wrappers and constants

  * ysFSTools: do not assume PCI domain 0000

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Nov 2019 18:43:05 +0100

libpve-common-perl (6.0-7) pve pmg; urgency=medium

  * cert: add fingerprint helper

  * JSONSchema: add pve-tag format

 -- Proxmox Support Team <support@proxmox.com>  Fri, 08 Nov 2019 12:48:29 +0100

libpve-common-perl (6.0-6) pve pmg; urgency=medium

  * fix #2433: add new TFA-secret format and support longer secrets

 -- Proxmox Support Team <support@proxmox.com>  Tue, 29 Oct 2019 08:07:29 +0100

libpve-common-perl (6.0-5) pve pmg; urgency=medium

  * fix #2339: Handle multiple blank lines correctly in SectionConfig

  * add postinst hook to fix /etc/aliases whitespace error~

  * network: add uplink-id option

  * network: use 'allow-ovs' instead of 'auto' for OVSBridge to fix race
    with the then generated systemd ifup@.service on startup

  * network: handle autostart setting for OVS interfaces

 -- Proxmox Support Team <support@proxmox.com>  Fri, 20 Sep 2019 16:38:39 +0200

libpve-common-perl (6.0-4) pve pmg; urgency=medium

  * fix #2303: detect IPs of p2p interfaces

  * CLIHandler: consider all valid prefixes again for completion

  * Tools: add fchownat syscall

 -- Proxmox Support Team <support@proxmox.com>  Sat, 17 Aug 2019 11:31:24 +0200

libpve-common-perl (6.0-3) pve pmg; urgency=medium

  * cert: add public key type and size to info and JSON schema

  * include all available CPU flags in read_cpuinfo

  * add array_intersect method

 -- Proxmox Support Team <support@proxmox.com>  Tue, 23 Jul 2019 09:14:58 +0200

libpve-common-perl (6.0-2) pve pmg; urgency=medium

  * systemd: add wait_for_unit_removed helper

  * add fallback for CSRF token recognition

  * use hmac_sha256 when assembling CSRF token

 -- Proxmox Support Team <support@proxmox.com>  Mon, 24 Jun 2019 17:16:28 +0200

libpve-common-perl (6.0-1) pve pmg; urgency=medium

  * print defaulttxt as sprintf parameter

  * inotify: network/interfaces: fix 'Use of uninitialized value' for netmask

 -- Proxmox Support Team <support@proxmox.com>  Fri, 14 Jun 2019 20:28:56 +0200

libpve-common-perl (6.0-0+2) pve pmg; urgency=medium

  * fix authentication over spice client by ensuring ticket does not use an
    undefined variable

 -- Proxmox Support Team <support@proxmox.com>  Thu, 23 May 2019 13:00:15 +0200

libpve-common-perl (6.0-0+1) pve pmg; urgency=medium

  * bump version for buster

 -- Proxmox Support Team <support@proxmox.com>  Thu, 16 May 2019 17:10:47 +0200

libpve-common-perl (5.0-52) unstable; urgency=medium

  * INotify: map address and netmask also to IP/CIDR while parsing
    network interfaces

  * print api res: always allow result to be undef if optional

  * prevent adding options through autovivification in SectionConfig based
    modules

  * sort keys for stabillity when dumping config through JSONSchema

 -- Proxmox Support Team <support@proxmox.com>  Wed, 15 May 2019 14:14:02 +0200

libpve-common-perl (5.0-51) unstable; urgency=medium

  * Tools: add setresuid syscall

 -- Proxmox Support Team <support@proxmox.com>  Thu, 18 Apr 2019 11:04:23 +0000

libpve-common-perl (5.0-50) unstable; urgency=medium

  * JSONSchema: fix units of bwlimit property

  * add u2f challenge accessors and request host to RESTEnvironment

 -- Proxmox Support Team <support@proxmox.com>  Wed, 03 Apr 2019 13:53:12 +0200

libpve-common-perl (5.0-49) unstable; urgency=medium

  * JSONSchema: register pve-snapshot-name here to avoid cyclic
    dependencies

 -- Proxmox Support Team <support@proxmox.com>  Thu, 21 Mar 2019 12:50:26 +0100

libpve-common-perl (5.0-48) unstable; urgency=medium

  * JSONSchema: add 'mac-addr' standard option

  * JSONSchema: Adapt MAC address format to unicast

  * fix #2111: regex match for email addresses

 -- Proxmox Support Team <support@proxmox.com>  Thu, 14 Mar 2019 09:51:35 +0100

libpve-common-perl (5.0-47) unstable; urgency=medium

  * partially fix #2023: Switch to https for yubico.com API

  * Fix 1891: Add zsh command completion generator

 -- Proxmox Support Team <support@proxmox.com>  Wed, 20 Feb 2019 12:23:56 +0100

libpve-common-perl (5.0-46) unstable; urgency=medium

  * add missing dependency on libhttp-daemon-perl, libhttp-manager-perl

 -- Proxmox Support Team <support@proxmox.com>  Mon, 11 Feb 2019 10:54:52 +0100

libpve-common-perl (5.0-45) unstable; urgency=medium

  * Tools: add fsync sycall

  * Tools: add dev_t_major/minor

 -- Proxmox Support Team <support@proxmox.com>  Mon, 04 Feb 2019 11:43:21 +0100

libpve-common-perl (5.0-44) unstable; urgency=medium

  * JSONSchema: Add format for MAC address verification

  * fix defaults for standard_output_options

 -- Proxmox Support Team <support@proxmox.com>  Tue, 22 Jan 2019 11:51:59 +0100

libpve-common-perl (5.0-43) unstable; urgency=medium

  * fix #1956: return controlling terminal to parent

  * Tools: cope with '0' in split_list

  * network: fix setting MTU on veth pair

  * SysFSTools: add helpers for mediated PCI devices

  * SysFSTools: allow one to return verbose information from lspci

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Nov 2018 11:19:46 +0100

libpve-common-perl (5.0-42) unstable; urgency=medium

  * fix #1548: replace perl use vars with our

  * introduce SysFSTools

 -- Proxmox Support Team <support@proxmox.com>  Mon, 19 Nov 2018 13:45:54 +0100

libpve-common-perl (5.0-41) unstable; urgency=medium

  * fix #1938: increase filesize limit for /proc/mounts

  * inotify: network/interfaces: add support for 802.1ad stacked vlans

  * build: split deb target into deb and src

  * fix #1963: don't do day-time related math on time stamps

 -- Proxmox Support Team <support@proxmox.com>  Wed, 31 Oct 2018 14:58:42 +0100

libpve-common-perl (5.0-40) unstable; urgency=medium

  * minor fixup for startup order code

 -- Proxmox Support Team <support@proxmox.com>  Tue, 25 Sep 2018 11:33:34 +0200

libpve-common-perl (5.0-39) unstable; urgency=medium

  * fix #1914: CLIFormatter: check also for existence of type

  * generate_usage_str: do not group sub-commands

  * run_fork_with_timeout: handle SIGTERM

  * intoify: improve mtu/bridgebort checks

  * api_dump_full: reduce enumerated options to a single one

  * inotify: add methods for reading/writing /etc/hosts

 -- Proxmox Support Team <support@proxmox.com>  Thu, 20 Sep 2018 09:38:32 +0200

libpve-common-perl (5.0-38) unstable; urgency=medium

  * getopt_usage: do not display $standard_output_options

  * introcude new output format 'yaml'

  * PVE::CLIHandler - allow to define additional parameters for output
    formatter

  * PVE::ACME - untaint saved account data

  * api dump: do not skip indexed params with only one index

 -- Proxmox Support Team <support@proxmox.com>  Fri, 27 Jul 2018 10:54:59 +0200

libpve-common-perl (5.0-37) unstable; urgency=medium

  * make CLI standard options opt-in for commands

 -- Proxmox Support Team <support@proxmox.com>  Wed, 18 Jul 2018 10:47:33 +0200

libpve-common-perl (5.0-36) unstable; urgency=medium

  * fix #1819: fork_worker: ensure sync'ed workers control terminal

  * new class to generate and format CLI output, including common render
    methods, table borders and output formats

  * add vxlan interface support

  * initial ifupdown2 option support for bridge and bond interfaces

 -- Proxmox Support Team <support@proxmox.com>  Tue, 10 Jul 2018 13:56:37 +0200

libpve-common-perl (5.0-35) unstable; urgency=medium

  * replace read_password_func from cli handler with more flexible param
    mapping

  * add print_text_table and print_api_result helper

 -- Proxmox Support Team <support@proxmox.com>  Wed, 27 Jun 2018 12:33:09 +0200

libpve-common-perl (5.0-34) unstable; urgency=medium

  * split out systemd specific code to own perl module

 -- Proxmox Support Team <support@proxmox.com>  Fri, 15 Jun 2018 12:05:54 +0200

libpve-common-perl (5.0-33) unstable; urgency=medium

  * only show subcommand specific usage if command incomplete

  * filter out aliases when trying to expand command

  * fix handling unknown commands

  * add a generalized 'read and confirm password' sub

  * improve bash completion

  * fix getopt when invoking without arguments

  * ensure errors from forked commands get returned correctly

 -- Proxmox Support Team <support@proxmox.com>  Thu, 14 Jun 2018 09:15:41 +0200

libpve-common-perl (5.0-32) unstable; urgency=medium

  * fix #1766: compare task start time numerically

  * add helper to dump API with resolved references

 -- Proxmox Support Team <support@proxmox.com>  Tue, 29 May 2018 07:33:47 +0200

libpve-common-perl (5.0-31) unstable; urgency=medium

  * add ACME library and challenge plugins

  * add Certificate helper

  * untaint PVE::Tools::df() return values

 -- Proxmox Support Team <support@proxmox.com>  Fri, 04 May 2018 12:39:02 +0200

libpve-common-perl (5.0-30) unstable; urgency=medium

  * pty: fix read_password prototype

  * cli: more generic interactive parameter definition

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Mar 2018 09:08:08 +0100

libpve-common-perl (5.0-29) unstable; urgency=medium

  * CLIHandler: fix command usage string generation

  * fix #1682: handle relative years absolutely

  * introduce compute_param_mapping_hash helper

 -- Proxmox Support Team <support@proxmox.com>  Fri, 09 Mar 2018 08:56:03 +0100

libpve-common-perl (5.0-28) unstable; urgency=medium

  * net: replace brctl with iproute2 calls

  * schema: add bwlimit standard option and format

  * schema: allow ipv6 prefix lengths up to 128

  * net: remove flowid in traffic limit commands

 -- Proxmox Support Team <support@proxmox.com>  Mon, 19 Feb 2018 11:41:12 +0100

libpve-common-perl (5.0-27) unstable; urgency=medium

  * minor code updates for better reusability

 -- Proxmox Support Team <support@proxmox.com>  Mon, 22 Jan 2018 15:03:12 +0100

libpve-common-perl (5.0-26) unstable; urgency=medium

  * support sub command structures for command line utilities

  * JSONSchema: add fingerprint-sha256 standard option

 -- Proxmox Support Team <support@proxmox.com>  Thu, 18 Jan 2018 09:27:50 +0100

libpve-common-perl (5.0-25) unstable; urgency=medium

  * fix issue where 0.5MB converted to GB becomes 0

  * fix issue which caused the web GUI to not show a new login window when the
    ticket becomes invalid (eg. timed out)

 -- Proxmox Support Team <support@proxmox.com>  Fri, 15 Dec 2017 13:25:41 +0100

libpve-common-perl (5.0-24) unstable; urgency=medium

  * let password queries be cancelled via Ctrl+C again

  * improve vnc port allocation stability

 -- Proxmox Support Team <support@proxmox.com>  Wed, 13 Dec 2017 15:05:05 +0100

libpve-common-perl (5.0-23) unstable; urgency=medium

  * added pty handling modules for upcoming pve-xtermjs package

 -- Proxmox Support Team <support@proxmox.com>  Mon, 04 Dec 2017 10:14:24 +0100

libpve-common-perl (5.0-22) unstable; urgency=medium

  * daemon: fix termination of busy workers on reload

 -- Proxmox Support Team <support@proxmox.com>  Mon, 20 Nov 2017 14:22:07 +0100

libpve-common-perl (5.0-21) unstable; urgency=medium

  * daemon: refactor and cleanup

  * daemon: don't send SIGTERM before restart on leave_children_open_on_reload

  * lock_file_full: add missing trailing newline

  * JSONSchema.pm - add a 'download' attribute

 -- Proxmox Support Team <support@proxmox.com>  Tue, 14 Nov 2017 08:01:25 +0100

libpve-common-perl (5.0-20) unstable; urgency=medium

  * tools: add run_fork

 -- Proxmox Support Team <support@proxmox.com>  Tue, 17 Oct 2017 15:08:48 +0200

libpve-common-perl (5.0-19) unstable; urgency=medium

  * PVE::Subscription - new class to simplify subscription management

  * ProcFSTools:read_proc_mounts: increase read size

  * tools: df: handle a failing df

 -- Proxmox Support Team <support@proxmox.com>  Tue, 03 Oct 2017 11:34:44 +0200

libpve-common-perl (5.0-18) unstable; urgency=medium

  * use double hyphens for command options in the documentation

  * fix an issue with signal handlers being replaced leading to services not
    shutting down properly

  * tools: add `convert_size` for generic byte conversion

 -- Proxmox Support Team <support@proxmox.com>  Tue, 12 Sep 2017 13:40:53 +0200

libpve-common-perl (5.0-17) unstable; urgency=medium

  * api: fix rendering of filepath/string parameters

  * tools: add pipe_socket_to_command

  * JSONSchema: add parse_boolean helper

  * restenv: catch broadcast_tasklist errors gracefully

 -- Proxmox Support Team <support@proxmox.com>  Wed, 6 Sep 2017 09:34:43 +0200

libpve-common-perl (5.0-16) unstable; urgency=medium

  * add helper to time-out hard blocking operations (eg. on stale NFS mounts)

 -- Proxmox Support Team <support@proxmox.com>  Fri, 30 Jun 2017 09:18:04 +0200

libpve-common-perl (5.0-15) unstable; urgency=medium

  * use more reliable checks in wait_for_vnc_port

 -- Proxmox Support Team <support@proxmox.com>  Tue, 27 Jun 2017 11:23:25 +0200

libpve-common-perl (5.0-14) unstable; urgency=medium

  * calendarevent: add the parsing error message to the format

  * calendarevent: add ability to have multiple timespecs for hours and minutes

  * calendarevent: trim event and check if empty

  * calendarevent: check range for start also without repetition

  * add and use physical NIC regexp

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Jun 2017 08:25:57 +0200

libpve-common-perl (5.0-13) unstable; urgency=medium

  * calendarevent: change sorting of hours and minutes to numeric

  * tools: next_unused_port: use IPPROTO_TCP explicitly

  * tools: unused ports: optional address parameter

  * PVE::JSONSchema - add proxyto_callback property

  * Revert "JSONSchema.pm: register new standard option pve-replicate

  * swap raw syscall numbers with syscall.ph for easier porting

 -- Proxmox Support Team <support@proxmox.com>  Wed, 31 May 2017 09:06:35 +0200

libpve-common-perl (5.0-12) unstable; urgency=medium

  * fix #1388: cpuset: sort members numerically

  * CalendarEvent.pm: implement parser/utils for systemd like calender exents

  * Tools: make file-locking aware of external exception sources

  * SectionConfig.pm: pass section data to format_section_header

  * JSONSchema.pm: register new standard option pve-replicate

 -- Proxmox Support Team <support@proxmox.com>  Thu, 18 May 2017 15:43:30 +0200

libpve-common-perl (5.0-11) unstable; urgency=medium

  * fix decoding of array and hash CLI parameters

  * add network hostname -> IP helpers

 -- Proxmox Support Team <support@proxmox.com>  Fri, 5 May 2017 12:39:00 +0200

libpve-common-perl (5.0-10) unstable; urgency=medium

  * mark decode_utf8_parameters() as depreciated

  * use Encode::Locale to encode parameters read from console(getopt)

 -- Proxmox Support Team <support@proxmox.com>  Tue, 02 May 2017 11:52:19 +0200

libpve-common-perl (5.0-9) unstable; urgency=medium

  * PVE::RESTEnvironment::get_user - add $noerr parameter

 -- Proxmox Support Team <support@proxmox.com>  Sat, 29 Apr 2017 08:28:11 +0200

libpve-common-perl (5.0-8) unstable; urgency=medium

  * remove wrong (and superfluous) range check in cpusets

 -- Proxmox Support Team <support@proxmox.com>  Thu, 20 Apr 2017 12:29:17 +0200

libpve-common-perl (5.0-7) unstable; urgency=medium

  * journal: allow filtering for a specific service

  * net: only disable ipv6 when creating a bridge/interface

  * fix uninitialized return code in run_command

 -- Proxmox Support Team <support@proxmox.com>  Mon, 10 Apr 2017 16:07:18 +0200

libpve-common-perl (5.0-6) unstable; urgency=medium

  * Add utility subroutine to get the fully qualified domain name of a host

 -- Proxmox Support Team <support@proxmox.com>  Mon, 03 Apr 2017 11:07:47 +0200

libpve-common-perl (5.0-5) unstable; urgency=medium

  * PVE::Tools::encrypt_pw() - new helper

 -- Proxmox Support Team <support@proxmox.com>  Thu, 30 Mar 2017 17:50:44 +0200

libpve-common-perl (5.0-4) unstable; urgency=medium

  * OTP.pm: new class with OTP helpers

 -- Proxmox Support Team <support@proxmox.com>  Thu, 30 Mar 2017 17:40:11 +0200

libpve-common-perl (5.0-3) unstable; urgency=medium

  * Notify.pm: use Clone::clone instead of Storable::dclone

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Mar 2017 12:07:07 +0100

libpve-common-perl (5.0-2) unstable; urgency=medium

  * Add keeplocale parameter required by some API commands

 -- Proxmox Support Team <support@proxmox.com>  Mon, 13 Mar 2017 15:02:41 +0100

libpve-common-perl (5.0-1) unstable; urgency=medium

  * bump version for Debian Stretch

 -- Proxmox Support Team <support@proxmox.com>  Wed, 8 Mar 2017 10:27:09 +0100

libpve-common-perl (4.0-93) unstable; urgency=medium

  * SectionConfig::check_value: return bool/numbers as numeric value

  * JSONSchema::check_type: return success (not value)

  * RESTEnvironment->init_request: reset result_attributes

  * SectionConfig: add new parameter $skip_type to createSchema()

  * SectionConfig:write_config: sort options by key name

  * SectionConfig: allow to get class specific updateSchema()

  * (maybe) fixes #1229: fix port reservation

  * Fix example to latest RestHandler

 -- Proxmox Support Team <support@proxmox.com>  Wed, 08 Mar 2017 06:17:44 +0100

libpve-common-perl (4.0-92) unstable; urgency=medium

  * stop using ifconfig from net-tools

  * schema updates

 -- Proxmox Support Team <support@proxmox.com>  Thu, 09 Feb 2017 11:39:13 +0100

libpve-common-perl (4.0-91) unstable; urgency=medium

  * Fix interface writer for bridge_ports and slaves.

  * ensure correct upgrade path

 -- Proxmox Support Team <support@proxmox.com>  Mon, 6 Feb 2017 14:45:20 +0100

libpve-common-perl (4.0-90) unstable; urgency=medium

  * RESTEnvironment: let check_worker take a $self

 -- Proxmox Support Team <support@proxmox.com>  Fri, 27 Jan 2017 10:57:13 +0100

libpve-common-perl (4.0-89) unstable; urgency=medium

  * fix #1232: cleanup bridges on veth_delete

  * split abstract base modules into separate libpve-guest-common-perl package

 -- Proxmox Support Team <support@proxmox.com>  Wed, 25 Jan 2017 09:10:47 +0100

libpve-common-perl (4.0-88) unstable; urgency=medium

  * PVE::Ticket - new helper class to create auth tickets

 -- Proxmox Support Team <support@proxmox.com>  Thu, 19 Jan 2017 12:53:08 +0100

libpve-common-perl (4.0-87) unstable; urgency=medium

  * RESTHandler.pm: remove register_page_formatter (no longer required)

  * JSONSchema: remove formatter option

  * PVE::RESTEnvironment: new base class for PVE::RPCEnvironment

 -- Proxmox Support Team <support@proxmox.com>  Thu, 19 Jan 2017 09:09:15 +0100

libpve-common-perl (4.0-86) unstable; urgency=medium

  * CLIHandler.pm: remove calls to PVE::RPCEnvironment

  * CLIHandler.pm: add setup_environment hook

  * CLIHandler.pm: remove run as root restriction

 -- Proxmox Support Team <support@proxmox.com>  Fri, 13 Jan 2017 11:22:18 +0100

libpve-common-perl (4.0-85) unstable; urgency=medium

  * set 'snapshot-delete' lock when deleting snapshot

 -- Proxmox Support Team <support@proxmox.com>  Thu, 22 Dec 2016 12:36:27 +0100

libpve-common-perl (4.0-84) unstable; urgency=medium

  * CpuSet short_string - avoid ranges like 0-0, 1-1, 2-2, ...

  * CpuSet write_to_cgroup: catch errors from close()

 -- Proxmox Support Team <support@proxmox.com>  Wed, 21 Dec 2016 11:53:02 +0100

libpve-common-perl (4.0-83) unstable; urgency=medium

  * safe_read_from: add filename parameter to improve error messages

 -- Proxmox Support Team <support@proxmox.com>  Mon, 28 Nov 2016 07:45:43 +0100

libpve-common-perl (4.0-82) unstable; urgency=medium

  * cpuset: fix short_string

 -- Proxmox Support Team <support@proxmox.com>  Wed, 23 Nov 2016 12:21:53 +0100

libpve-common-perl (4.0-81) unstable; urgency=medium

  * use better regex for remote ip check

  * schema_get_type_text: do not always expand enums

  * schema_get_type_text: render generic types as <type>

 -- Proxmox Support Team <support@proxmox.com>  Tue, 22 Nov 2016 11:50:30 +0100

libpve-common-perl (4.0-80) unstable; urgency=medium

  * use the pvecm mtunnel command to get remote migration ip

  * Fix #1188: tempfile: use /run by default

  * JSONSchema: allow named formats in parse_property_string

 -- Proxmox Support Team <support@proxmox.com>  Thu, 03 Nov 2016 09:45:31 +0100

libpve-common-perl (4.0-79) unstable; urgency=medium

  * CpuSet: read $MAX_CPUID from /proc/cpuinfo

  * CpuSet: new max_cpuid() method (replaces static class var)

  * add get_local_ip_from_cidr

 -- Proxmox Support Team <support@proxmox.com>  Fri, 28 Oct 2016 17:45:04 +0200

libpve-common-perl (4.0-78) unstable; urgency=medium

  * CpuSet: add helper to format/print cpu sets

 -- Proxmox Support Team <support@proxmox.com>  Fri, 28 Oct 2016 07:04:18 +0200

libpve-common-perl (4.0-77) unstable; urgency=medium

  * new class PVE::CpuSet: Simply class to handle cpu sets

 -- Proxmox Support Team <support@proxmox.com>  Wed, 26 Oct 2016 11:16:07 +0200

libpve-common-perl (4.0-76) unstable; urgency=medium

  * SectionConfig: always write out explicitly set booleans

 -- Proxmox Support Team <support@proxmox.com>  Thu, 20 Oct 2016 06:16:21 +0200

libpve-common-perl (4.0-75) unstable; urgency=medium

  * correct spelling of synopsis

 -- Proxmox Support Team <support@proxmox.com>  Fri, 07 Oct 2016 09:02:36 +0200

libpve-common-perl (4.0-74) unstable; urgency=medium

  * Network: add disable_ipv6 and use it

  * fix doc generator (do not convert efidisk0 to efidisk[N])

 -- Proxmox Support Team <support@proxmox.com>  Thu, 29 Sep 2016 12:46:23 +0200

libpve-common-perl (4.0-73) unstable; urgency=medium

  * schema_get_type_text: always access values as number

  * add typetext property for more complex types

 -- Proxmox Support Team <support@proxmox.com>  Fri, 16 Sep 2016 08:48:18 +0200

libpve-common-perl (4.0-72) unstable; urgency=medium

  * allow Regexp objects for strings in the schema

  * tools: optional prefix for random_ether_addr

  * harden file_set_contents against symlinks attacks (thanks to
    RACK911Labs.com for the hint)

  * backport file_copy from PVE 4

 -- Proxmox Support Team <support@proxmox.com>  Tue, 16 Aug 2016 16:53:36 +0200

libpve-common-perl (4.0-71) unstable; urgency=medium

  * fix mac address generation limitation

  * fix #1046: add non-snapshotted disks as unused

  * df: untaint the result

 -- Proxmox Support Team <support@proxmox.com>  Mon, 11 Jul 2016 11:29:42 +0200

libpve-common-perl (4.0-70) unstable; urgency=medium

  * Fix #132: hold a lock while setting up vlan bridges

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Jun 2016 11:21:16 +0200

libpve-common-perl (4.0-69) unstable; urgency=medium

  * vlan fixups: remove existing vlan ids

 -- Proxmox Support Team <support@proxmox.com>  Tue, 21 Jun 2016 06:53:58 +0200

libpve-common-perl (4.0-68) unstable; urgency=medium

  * catch malformed mailto/mailfrom in sendmail

 -- Proxmox Support Team <support@proxmox.com>  Thu, 09 Jun 2016 17:56:26 +0200

libpve-common-perl (4.0-67) unstable; urgency=medium

  * added: enter_systemd_scope

  * move Network::get_active_interfaces to ProcFSTools

  * add netmasks starting from /8 to local netmask list

  * Consider /31 and /32 valid subnet masks

 -- Proxmox Support Team <support@proxmox.com>  Fri, 03 Jun 2016 11:27:13 +0200

libpve-common-perl (4.0-66) unstable; urgency=medium

  * added: openat, mkdirat

  * Allow O_PATH and O_TMPFILE to be exported

 -- Proxmox Support Team <support@proxmox.com>  Wed, 01 Jun 2016 11:31:59 +0200

libpve-common-perl (4.0-65) unstable; urgency=medium

  * run_cli_handler: add no_rpcenv parameter

 -- Proxmox Support Team <support@proxmox.com>  Wed, 25 May 2016 11:33:52 +0200

libpve-common-perl (4.0-64) unstable; urgency=medium

  * print_property_string: don't print the default key's name

 -- Proxmox Support Team <support@proxmox.com>  Mon, 23 May 2016 06:26:40 +0200

libpve-common-perl (4.0-63) unstable; urgency=medium

  * show warning when using VLAN 1 on a VLAN aware bridge

 -- Proxmox Support Team <support@proxmox.com>  Wed, 18 May 2016 11:23:27 +0200

libpve-common-perl (4.0-62) unstable; urgency=medium

  * re-enable run_cli, which is still in use

 -- Proxmox Support Team <support@proxmox.com>  Sat, 14 May 2016 11:27:23 +0200

libpve-common-perl (4.0-61) unstable; urgency=medium

  * remove PodParser.pm, implement keyAlias feature (replaces group feature)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 11 May 2016 11:09:29 +0200

libpve-common-perl (4.0-60) unstable; urgency=medium

  * setup_tc_rate_limit: Use run_command instead of system

  * When starting in debug mode, starts the daemon without going
    through systemctl

 -- Proxmox Support Team <support@proxmox.com>  Tue, 03 May 2016 07:05:49 +0200

libpve-common-perl (4.0-59) unstable; urgency=medium

  * Fix #908: cleanup OVS ports in tap_unplug

 -- Proxmox Support Team <support@proxmox.com>  Wed, 13 Apr 2016 06:37:15 +0200

libpve-common-perl (4.0-58) unstable; urgency=medium

  * Add validate_ssh_public_keys

  * Handle string parameter to file content replacement

  * Tools: add sendmail

  * Tools: add tempfile and tempfile_contents

  * fix O_PATH value

 -- Proxmox Support Team <support@proxmox.com>  Tue, 05 Apr 2016 06:28:45 +0200

libpve-common-perl (4.0-57) unstable; urgency=medium

  * fix #923: uninitalized value in remove_lock

  * new PVE::RESTHandler::dump_properties

  * generate_typetext: handle enums and booleans automatically

  * property strings: introduce key grouping feature

 -- Proxmox Support Team <support@proxmox.com>  Fri, 01 Apr 2016 07:15:56 +0200

libpve-common-perl (4.0-56) unstable; urgency=medium

  * add the 'urlencoded' string format

  * property strings: check for commas in values

 -- Proxmox Support Team <support@proxmox.com>  Mon, 21 Mar 2016 08:47:06 +0100

libpve-common-perl (4.0-55) unstable; urgency=medium

  * add missing check for undef in is_mounted

 -- Proxmox Support Team <support@proxmox.com>  Wed, 16 Mar 2016 16:48:19 +0100

libpve-common-perl (4.0-54) unstable; urgency=medium

  * net: don't die in get_active_interfaces() and try both address families

 -- Proxmox Support Team <support@proxmox.com>  Tue, 15 Mar 2016 06:45:55 +0100

libpve-common-perl (4.0-53) unstable; urgency=medium

  * net: tap_plug() needs to apply rate limiting

  * network: tap_rate_limit: fix uninitialized value

 -- Proxmox Support Team <support@proxmox.com>  Tue, 08 Mar 2016 15:51:12 +0100

libpve-common-perl (4.0-52) unstable; urgency=medium

  * AbstractConfig: Decide whether volume is added as unused in subclass

  * AbstractConfig: Introduce __snapshot_create_vol_snapshots_hook

 -- Proxmox Support Team <support@proxmox.com>  Tue, 08 Mar 2016 11:34:24 +0100

libpve-common-perl (4.0-51) unstable; urgency=medium

  * Add AbstractConfig base class

 -- Proxmox Support Team <support@proxmox.com>  Thu, 03 Mar 2016 10:12:26 +0100

libpve-common-perl (4.0-50) unstable; urgency=medium

  * Add since and until parameter to dump_journal

  * pod: generate property string documentation

 -- Proxmox Support Team <support@proxmox.com>  Wed, 02 Mar 2016 06:23:24 +0100

libpve-common-perl (4.0-49) unstable; urgency=medium

  * schema: error on missing keys without default keys

 -- Proxmox Support Team <support@proxmox.com>  Thu, 18 Feb 2016 09:40:35 +0100

libpve-common-perl (4.0-48) unstable; urgency=medium

  * added syncfs syscall and sync_mountpoint helper

  * Applying: schema: disable additional properties in property strings

 -- Proxmox Support Team <support@proxmox.com>  Thu, 11 Feb 2016 11:24:34 +0100

libpve-common-perl (4.0-47) unstable; urgency=medium

  * Implement refcounting for flocks

  * CLIHandler: add missing use PVE::INotify

  * Fix #882: active state of interfaces depends on ipv6

 -- Proxmox Support Team <support@proxmox.com>  Wed, 10 Feb 2016 11:13:32 +0100

libpve-common-perl (4.0-46) unstable; urgency=medium

  * add upid_wait method

  * SectionConfig: disable duplicate plugin registration

  * Tools: add setns system call

 -- Proxmox Support Team <support@proxmox.com>  Wed, 27 Jan 2016 16:55:45 +0100

libpve-common-perl (4.0-45) unstable; urgency=medium

  * network: fix uninitialized value error

 -- Proxmox Support Team <support@proxmox.com>  Mon, 18 Jan 2016 16:54:06 +0100

libpve-common-perl (4.0-44) unstable; urgency=medium

  * network : add trunks support

 -- Proxmox Support Team <support@proxmox.com>  Fri, 15 Jan 2016 17:26:05 +0100

libpve-common-perl (4.0-43) unstable; urgency=medium

  * Fix #861: use safer sprintf formatting

 -- Proxmox Support Team <support@proxmox.com>  Fri, 08 Jan 2016 12:50:43 +0100

libpve-common-perl (4.0-42) unstable; urgency=medium

  * bash completion: allow fall back to default completion

  * lock_file_full: output also lockname if it cannot be acquired

 -- Proxmox Support Team <support@proxmox.com>  Sat, 19 Dec 2015 09:06:24 +0100

libpve-common-perl (4.0-41) unstable; urgency=medium

  * Daemon: don't clear CLOEXEC on daemon sockets

 -- Proxmox Support Team <support@proxmox.com>  Mon, 07 Dec 2015 11:17:21 +0100

libpve-common-perl (4.0-40) unstable; urgency=medium

  * run_command: return exit code and add noerr option

 -- Proxmox Support Team <support@proxmox.com>  Mon, 30 Nov 2015 13:00:15 +0100

libpve-common-perl (4.0-39) unstable; urgency=medium

  * add function file_copy

  * print_property_string: skip keys early

 -- Proxmox Support Team <support@proxmox.com>  Thu, 26 Nov 2015 08:09:04 +0100

libpve-common-perl (4.0-38) unstable; urgency=medium

  * Network setup: avoid access to undefinded var $tag

 -- Proxmox Support Team <support@proxmox.com>  Thu, 19 Nov 2015 06:24:53 +0100

libpve-common-perl (4.0-37) unstable; urgency=medium

  * ProcFSTools: implement conforming parse_mounts

 -- Proxmox Support Team <support@proxmox.com>  Fri, 13 Nov 2015 11:16:33 +0100

libpve-common-perl (4.0-36) unstable; urgency=medium

  * Tools::df: fork and use Filesys::Df

  * print_property_string: skip undefined values

  * fix CLONE constant declaration

  * Tools: make unshare behave like other perl syscalls

 -- Proxmox Support Team <support@proxmox.com>  Fri, 30 Oct 2015 07:03:50 +0100

libpve-common-perl (4.0-35) unstable; urgency=medium

  * read_prox_net_ipv6_route fixes

 -- Proxmox Support Team <support@proxmox.com>  Fri, 23 Oct 2015 12:13:55 +0200

libpve-common-perl (4.0-34) unstable; urgency=medium

  * network: IP_from_cidr and is_ip_in_cidr helpers

  * half-revert: remove autostart property from bridge ports

 -- Proxmox Support Team <support@proxmox.com>  Mon, 19 Oct 2015 11:14:12 +0200

libpve-common-perl (4.0-33) unstable; urgency=medium

  * allow /32 ipv4 cidrs

 -- Proxmox Support Team <support@proxmox.com>  Fri, 16 Oct 2015 09:53:52 +0200

libpve-common-perl (4.0-32) unstable; urgency=medium

  * print_property_string: disk-size is a format, not a type

  * Shorter implementation of random_ether_addr()

 -- Proxmox Support Team <support@proxmox.com>  Thu, 15 Oct 2015 12:22:14 +0200

libpve-common-perl (4.0-31) unstable; urgency=medium

  * parse_property_string: add newline to error strings

 -- Proxmox Support Team <support@proxmox.com>  Fri, 09 Oct 2015 08:43:47 +0200

libpve-common-perl (4.0-30) unstable; urgency=medium

  * depend on libclone-perl

  * api_clone_schema: use Clone::clone instead of Storable::dclone

 -- Proxmox Support Team <support@proxmox.com>  Wed, 07 Oct 2015 08:52:09 +0200

libpve-common-perl (4.0-29) unstable; urgency=medium

  * INotify::read_etc_resolv_conf: ipv6 support

 -- Proxmox Support Team <support@proxmox.com>  Mon, 05 Oct 2015 12:32:00 +0200

libpve-common-perl (4.0-28) unstable; urgency=medium

  * run_cli_handler: add no_init parameter for lxc mount hook

 -- Proxmox Support Team <support@proxmox.com>  Fri, 02 Oct 2015 13:42:37 +0200

libpve-common-perl (4.0-27) unstable; urgency=medium

  * CLIHandler: fix manpage for method using 'password' handlers.

  * run_cli_handler: replaces run_cli()
  
 -- Proxmox Support Team <support@proxmox.com>  Fri, 02 Oct 2015 10:43:14 +0200

libpve-common-perl (4.0-26) unstable; urgency=medium

  * added JSONSchema::print_property_string

  * JSONSchema: added disk-size format

  * Added PVE::JSONSchema::parse_size/format_size

  * Support named formats in typetext generation

 -- Proxmox Support Team <support@proxmox.com>  Thu, 01 Oct 2015 11:26:11 +0200

libpve-common-perl (4.0-25) unstable; urgency=medium

  * read|write network interfaces : add support for vlan interfaces

 -- Proxmox Support Team <support@proxmox.com>  Fri, 25 Sep 2015 07:03:01 +0200

libpve-common-perl (4.0-24) unstable; urgency=medium

  * JSONSchema: verify comma-separated property strings

  * JSONSchema: pve-ipv4/6-config and CIDR split

 -- Proxmox Support Team <support@proxmox.com>  Wed, 23 Sep 2015 08:20:44 +0200

libpve-common-perl (4.0-23) unstable; urgency=medium

  * support QinQ / vlan stacking

  * improve bash completion

  * Tools: add unshare system call

  * Allow top level devel domain name up to 63 characters in email adresse

 -- Proxmox Support Team <support@proxmox.com>  Mon, 21 Sep 2015 12:11:17 +0200

libpve-common-perl (4.0-22) unstable; urgency=medium

  * Tools::run_command: support command pipes (array of arrays)

  * Tools::run_command: add documentation

  * parse/set bridge_vlan_aware flag

 -- Proxmox Support Team <support@proxmox.com>  Wed, 16 Sep 2015 09:11:29 +0200

libpve-common-perl (4.0-21) unstable; urgency=medium

  * remove autostart property from bridge ports

  * CLIHandler: allow binaries with '-' in command name

 -- Proxmox Support Team <support@proxmox.com>  Tue, 15 Sep 2015 09:04:01 +0200

libpve-common-perl (4.0-20) unstable; urgency=medium

  * avoid Exporter warning with Cwd

 -- Proxmox Support Team <support@proxmox.com>  Wed, 09 Sep 2015 09:13:11 +0200

libpve-common-perl (4.0-19) unstable; urgency=medium

  * add missing formatter property to method schema

  * CLIHandler: add helper to generate bash completion (and config)

  * add helpers to verify API without starting the binary

  * remove + from getopt's prefix_pattern

  * new helpers: read_proc_mounts and is_mounted

 -- Proxmox Support Team <support@proxmox.com>  Tue, 08 Sep 2015 07:16:47 +0200

libpve-common-perl (4.0-18) unstable; urgency=medium

  * added 'extra-args' CLI handling

  * add bash completion handler

 -- Proxmox Support Team <support@proxmox.com>  Tue, 01 Sep 2015 17:47:18 +0200

libpve-common-perl (4.0-17) unstable; urgency=medium

  * Added PVE::Network::tcp_ping to replace Net::Ping

  * Tools::run_with_timeout improvement + hires alarm

  * Add generic parse_host_and_port function

 -- Proxmox Support Team <support@proxmox.com>  Fri, 28 Aug 2015 11:37:10 +0200

libpve-common-perl (4.0-16) unstable; urgency=medium

  * fix bug #860: fix tc rate control

 -- Proxmox Support Team <support@proxmox.com>  Mon, 17 Aug 2015 09:43:41 +0200

libpve-common-perl (4.0-15) unstable; urgency=medium

  * add tap device name parse fix

 -- Proxmox Support Team <support@proxmox.com>  Mon, 10 Aug 2015 09:06:28 +0200

libpve-common-perl (4.0-14) unstable; urgency=medium

  * get_standard_option: do not overwrite defaults when they evaluate to false
  
 -- Proxmox Support Team <support@proxmox.com>  Tue, 04 Aug 2015 08:59:48 +0200

libpve-common-perl (4.0-13) unstable; urgency=medium

  * fix tap_plug with vlan for non aware vlan bridges

 -- Proxmox Support Team <support@proxmox.com>  Mon, 03 Aug 2015 16:13:33 +0200

libpve-common-perl (4.0-12) unstable; urgency=medium

  * tap_plug : add support for vlan aware linux bridge

  * replace /sbin/vconfig with /sbin/ip call
  
 -- Proxmox Support Team <support@proxmox.com>  Thu, 30 Jul 2015 08:59:52 +0200

libpve-common-perl (4.0-11) unstable; urgency=medium

  * add ProcFSTools::read_proc_net_ipv6_route

  * added constants: ipv4_reverse_mask and ipv4_mask_hash_localnet 

 -- Proxmox Support Team <support@proxmox.com>  Mon, 27 Jul 2015 13:12:28 +0200

libpve-common-perl (4.0-10) unstable; urgency=medium

  * add veth_create and veth_delete

 -- Proxmox Support Team <support@proxmox.com>  Fri, 26 Jun 2015 11:50:24 +0200

libpve-common-perl (4.0-9) unstable; urgency=medium

  * add IPv6 support for /etc/network/interfaces

 -- Proxmox Support Team <support@proxmox.com>  Fri, 26 Jun 2015 07:56:05 +0200

libpve-common-perl (4.0-8) unstable; urgency=medium

  * PVE::Daemon now calls systemctl for start/stop/restart

 -- Proxmox Support Team <support@proxmox.com>  Fri, 19 Jun 2015 07:23:46 +0200

libpve-common-perl (4.0-7) unstable; urgency=medium

  * new helper dump_journal to view systemd journal

 -- Proxmox Support Team <support@proxmox.com>  Tue, 09 Jun 2015 12:16:24 +0200

libpve-common-perl (4.0-6) unstable; urgency=medium

  * add trigger for pve-api-updates

 -- Proxmox Support Team <support@proxmox.com>  Mon, 01 Jun 2015 13:18:00 +0200

libpve-common-perl (4.0-5) unstable; urgency=medium

  * defer some daemon setup routines

 -- Proxmox Support Team <support@proxmox.com>  Thu, 28 May 2015 18:07:34 +0200

libpve-common-perl (4.0-4) unstable; urgency=medium

  *  spice-proxy format now uses new address format

 -- Proxmox Support Team <support@proxmox.com>  Wed, 27 May 2015 15:33:40 +0200

libpve-common-perl (4.0-3) unstable; urgency=medium

  * add utility to fetch the socket family for a hostname

  * provide Tools::unpack_sockaddr_in46

  * new helper: getaddrinfo_all

  * add a socket family argument to next_*_port functions

 -- Proxmox Support Team <support@proxmox.com>  Fri, 08 May 2015 12:37:55 +0200

libpve-common-perl (4.0-2) unstable; urgency=medium

  * register new standard option 'pve-startup-order'

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Apr 2015 09:56:10 +0200

libpve-common-perl (4.0-1) unstable; urgency=medium

  * bump version for Debian Jessie

 -- Proxmox Support Team <support@proxmox.com>  Thu, 26 Feb 2015 11:18:57 +0100

libpve-common-perl (3.0-24) unstable; urgency=low

  * next_migrate_port: higher port range 

  * next_unused_port: test with bind to all IPs
  
 -- Proxmox Support Team <support@proxmox.com>  Wed, 11 Feb 2015 06:37:44 +0100

libpve-common-perl (3.0-23) unstable; urgency=low

  * read_etc_network_interfaces : don't always add vmbr0

 -- Proxmox Support Team <support@proxmox.com>  Mon, 09 Feb 2015 07:01:58 +0100

libpve-common-perl (3.0-22) unstable; urgency=low

  * implement pre-fork daemon

 -- Proxmox Support Team <support@proxmox.com>  Thu, 08 Jan 2015 14:49:37 +0100

libpve-common-perl (3.0-21) unstable; urgency=low

  * add abstract class to implement daemons

 -- Proxmox Support Team <support@proxmox.com>  Wed, 17 Dec 2014 14:49:18 +0100

libpve-common-perl (3.0-20) unstable; urgency=low

  * create_firewall_bridge_ovs : activate ovsint interface

 -- Proxmox Support Team <support@proxmox.com>  Thu, 11 Dec 2014 06:36:17 +0100

libpve-common-perl (3.0-19) unstable; urgency=low

  * new helper register_page_formater

 -- Proxmox Support Team <support@proxmox.com>  Tue, 06 May 2014 09:40:19 +0200

libpve-common-perl (3.0-18) unstable; urgency=low

  * speedup find_handler

 -- Proxmox Support Team <support@proxmox.com>  Thu, 24 Apr 2014 14:12:40 +0200

libpve-common-perl (3.0-17) unstable; urgency=low

  * dump_logfile: add filter regex

 -- Proxmox Support Team <support@proxmox.com>  Fri, 18 Apr 2014 07:20:57 +0200

libpve-common-perl (3.0-16) unstable; urgency=low

  * register new standard option pve-config-digest
  
  * move assert_if_modified to PVE::Tools

 -- Proxmox Support Team <support@proxmox.com>  Thu, 10 Apr 2014 09:49:30 +0200

libpve-common-perl (3.0-15) unstable; urgency=low

  * Add support for bridges with more than one physical link

 -- Proxmox Support Team <support@proxmox.com>  Wed, 19 Mar 2014 06:52:11 +0100

libpve-common-perl (3.0-14) unstable; urgency=low

  * correctly copy bridge config for vlan bridges

 -- Proxmox Support Team <support@proxmox.com>  Wed, 26 Feb 2014 07:50:47 +0100

libpve-common-perl (3.0-13) unstable; urgency=low

  * improve random MAC address generation

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 Jan 2014 07:37:14 +0100

libpve-common-perl (3.0-12) unstable; urgency=low

  * add support for openvswitch network configuration

 -- Proxmox Support Team <support@proxmox.com>  Fri, 27 Dec 2013 09:39:39 +0100

libpve-common-perl (3.0-11) unstable; urgency=low

  * add openvswitch support to tap_plug / tap_unplug
  
  * register CIDR format

  * register standard options for SPICE
  
 -- Proxmox Support Team <support@proxmox.com>  Sat, 21 Dec 2013 09:03:07 +0100

libpve-common-perl (3.0-10) unstable; urgency=low

  * wait_for_vnc_port: avoid unnecessarry delay by using usleep
  
  * new helper next_spice_port()

 -- Proxmox Support Team <support@proxmox.com>  Mon, 09 Dec 2013 13:16:55 +0100

libpve-common-perl (3.0-9) unstable; urgency=low

  * export regular expressions for IPv4 and IPv6 addresses
  
  * fix upid parser for long uptimes (> 497 days)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 30 Oct 2013 12:45:52 +0100

libpve-common-perl (3.0-8) unstable; urgency=low

  * do not use 'intl' variant for en an gb keyboard layouts

 -- Proxmox Support Team <support@proxmox.com>  Wed, 23 Oct 2013 06:56:44 +0200

libpve-common-perl (3.0-7) unstable; urgency=low

  * use warnings everywhere.

 -- Proxmox Support Team <support@proxmox.com>  Tue, 01 Oct 2013 13:20:15 +0200

libpve-common-perl (3.0-6) unstable; urgency=low

  * auth.conf: avoid warning if file does not exist, fix file permissions

 -- Proxmox Support Team <support@proxmox.com>  Mon, 05 Aug 2013 07:57:16 +0200

libpve-common-perl (3.0-5) unstable; urgency=low

  * add parser for "/etc/apt/auth.conf"

 -- Proxmox Support Team <support@proxmox.com>  Thu, 25 Jul 2013 09:57:55 +0200

libpve-common-perl (3.0-4) unstable; urgency=low

  * fix bug #381: use persistent reservation file for ports

  * new function PVE::Tools::next_migrate_port()

 -- Proxmox Support Team <support@proxmox.com>  Mon, 13 May 2013 07:23:35 +0200

libpve-common-perl (3.0-3) unstable; urgency=low

  * fix date in copyright message

 -- Proxmox Support Team <support@proxmox.com>  Wed, 08 May 2013 10:55:00 +0200

libpve-common-perl (3.0-2) unstable; urgency=low

  * implement shared file locks

 -- Proxmox Support Team <support@proxmox.com>  Mon, 06 May 2013 11:49:10 +0200

libpve-common-perl (3.0-1) unstable; urgency=low

  * start 3.0 development

 -- Proxmox Support Team <support@proxmox.com>  Tue, 05 Mar 2013 11:43:46 +0100

libpve-common-perl (1.0-48) unstable; urgency=low

  * depend on libnet-ip-perl

  * Improved ipv4 addresses validation
  
 -- Proxmox Support Team <support@proxmox.com>  Mon, 25 Feb 2013 06:20:10 +0100

libpve-common-perl (1.0-47) unstable; urgency=low

  * fix bug #335: correctly verify ipv4 network masks

 -- Proxmox Support Team <support@proxmox.com>  Fri, 22 Feb 2013 09:13:35 +0100

libpve-common-perl (1.0-46) unstable; urgency=low

  * revert vlan changes
  
  * add parser for /etc/iscsi/initiatorname.iscsi

 -- Proxmox Support Team <support@proxmox.com>  Wed, 13 Feb 2013 10:57:20 +0100

libpve-common-perl (1.0-45) unstable; urgency=low

  * read_meminfo: query KSM page sharing
  
  * revert tc rate filter changes: they do not work as expected

 -- Proxmox Support Team <support@proxmox.com>  Fri, 01 Feb 2013 09:04:27 +0100

libpve-common-perl (1.0-44) unstable; urgency=low

  * vlan changes: use ip command instead of old vconfig, activate gvrp 
  by default, use bridge instead of raw ethernet device as vlan bridge

 -- Proxmox Support Team <support@proxmox.com>  Mon, 28 Jan 2013 11:57:33 +0100

libpve-common-perl (1.0-43) unstable; urgency=low

  * tc: use rate filter with mtu 64k (instead of avrate)

 -- Proxmox Support Team <support@proxmox.com>  Mon, 28 Jan 2013 06:59:32 +0100

libpve-common-perl (1.0-41) unstable; urgency=low

  * correctly count physical sockets

 -- Proxmox Support Team <support@proxmox.com>  Mon, 31 Dec 2012 08:24:40 +0100

libpve-common-perl (1.0-40) unstable; urgency=low

  * run_command: implement afterfork callback

 -- Proxmox Support Team <support@proxmox.com>  Mon, 10 Dec 2012 12:50:12 +0100

libpve-common-perl (1.0-39) unstable; urgency=low

  * remove hardcoded blowfish cipher

 -- Proxmox Support Team <support@proxmox.com>  Wed, 31 Oct 2012 13:55:06 +0100

libpve-common-perl (1.0-38) unstable; urgency=low

  * fix bug #273: retry flock if it fails with EINTR

 -- Proxmox Support Team <support@proxmox.com>  Wed, 31 Oct 2012 08:21:43 +0100

libpve-common-perl (1.0-37) unstable; urgency=low

  * fix bug #264: use option pipefail for shell commands

 -- Proxmox Support Team <support@proxmox.com>  Mon, 29 Oct 2012 09:45:11 +0100

libpve-common-perl (1.0-36) unstable; urgency=low

  * new helper wait_for_vnc_port()

 -- Proxmox Support Team <support@proxmox.com>  Wed, 24 Oct 2012 08:21:04 +0200

libpve-common-perl (1.0-35) unstable; urgency=low

  * fix bug in read_memory_usage

 -- Proxmox Support Team <support@proxmox.com>  Mon, 15 Oct 2012 06:32:30 +0200

libpve-common-perl (1.0-34) unstable; urgency=low

  * file_read_firstline: avoid warning with empty files

 -- Proxmox Support Team <support@proxmox.com>  Tue, 02 Oct 2012 08:05:10 +0200

libpve-common-perl (1.0-33) unstable; urgency=low

  * fix run_command: restore umask correctly

 -- Proxmox Support Team <support@proxmox.com>  Wed, 26 Sep 2012 13:16:22 +0200

libpve-common-perl (1.0-32) unstable; urgency=low

  * fix typo in error message

 -- Proxmox Support Team <support@proxmox.com>  Tue, 25 Sep 2012 06:08:02 +0200

libpve-common-perl (1.0-31) unstable; urgency=low

  * minor fix: remove debug output

 -- Proxmox Support Team <support@proxmox.com>  Tue, 11 Sep 2012 09:22:13 +0200

libpve-common-perl (1.0-30) unstable; urgency=low

  * allow more that 10 physical network interfaces

 -- Proxmox Support Team <support@proxmox.com>  Thu, 02 Aug 2012 07:28:17 +0200

libpve-common-perl (1.0-29) unstable; urgency=low

  * AbsrtactMigrate: use rsync flags AX (preserve ACLs and xattr)

 -- Proxmox Support Team <support@proxmox.com>  Thu, 14 Jun 2012 09:08:11 +0200

libpve-common-perl (1.0-28) unstable; urgency=low

  * added SectionConfig.pm, base class for Storage and Auth plugins.

 -- Proxmox Support Team <support@proxmox.com>  Wed, 16 May 2012 07:18:53 +0200

libpve-common-perl (1.0-27) unstable; urgency=low

  * fix bug #172: use DNS compatible regex in upid parser

 -- Proxmox Support Team <support@proxmox.com>  Fri, 20 Apr 2012 08:31:44 +0200

libpve-common-perl (1.0-26) unstable; urgency=low

  * add Turkish keyboard mappings

 -- Proxmox Support Team <support@proxmox.com>  Wed, 11 Apr 2012 08:35:13 +0200

libpve-common-perl (1.0-25) unstable; urgency=low

  * fix bug #135: use DNS compatible naming for 'pve-node'

 -- Proxmox Support Team <support@proxmox.com>  Mon, 02 Apr 2012 14:10:45 +0200

libpve-common-perl (1.0-24) unstable; urgency=low

  * fix bug #135: allow single letter 'dns-name', allow to start names
    with numbers

 -- Proxmox Support Team <support@proxmox.com>  Mon, 02 Apr 2012 12:04:02 +0200

libpve-common-perl (1.0-23) unstable; urgency=low

  * moved dir_glob_regex() and dir_glob_foreach() from PVE::Storage 
  to PVE::Tools
  
  * add vlan setup code to PVE::Network
  
 -- Proxmox Support Team <support@proxmox.com>  Wed, 28 Mar 2012 07:56:49 +0200

libpve-common-perl (1.0-22) unstable; urgency=low

  * return number of sockets in read_cpuinfo

 -- Proxmox Support Team <support@proxmox.com>  Mon, 26 Mar 2012 07:53:35 +0200

libpve-common-perl (1.0-21) unstable; urgency=low

  * use Digest::SHA instead of Digest::SHA1

 -- Proxmox Support Team <support@proxmox.com>  Tue, 20 Mar 2012 11:21:02 +0100

libpve-common-perl (1.0-20) unstable; urgency=low

  * fix bug #116, #103: try to keep ordering in /etc/network/interfaces

 -- Proxmox Support Team <support@proxmox.com>  Mon, 19 Mar 2012 13:30:07 +0100

libpve-common-perl (1.0-19) unstable; urgency=low

  * add dns-name format

 -- Proxmox Support Team <support@proxmox.com>  Mon, 12 Mar 2012 12:31:27 +0100

libpve-common-perl (1.0-18) unstable; urgency=low

  * try to keep ordering in /etc/network/interfaces

 -- Proxmox Support Team <support@proxmox.com>  Fri, 02 Mar 2012 12:33:34 +0100

libpve-common-perl (1.0-17) unstable; urgency=low

  * better error message for usermod command

 -- Proxmox Support Team <support@proxmox.com>  Thu, 01 Mar 2012 12:42:30 +0100

libpve-common-perl (1.0-16) unstable; urgency=low

  * try to keep comments in /etc/network/interfaces

 -- Proxmox Support Team <support@proxmox.com>  Thu, 01 Mar 2012 09:49:22 +0100

libpve-common-perl (1.0-15) unstable; urgency=low

  * add Swedish keymap

 -- Proxmox Support Team <support@proxmox.com>  Mon, 27 Feb 2012 09:46:36 +0100

libpve-common-perl (1.0-14) unstable; urgency=low

  * increase version to 1.0-14 for RC1

 -- Proxmox Support Team <support@proxmox.com>  Thu, 16 Feb 2012 15:12:15 +0100

libpve-common-perl (1.0-13) unstable; urgency=low

  * correctly decode utf8 CLI parameters.

 -- Proxmox Support Team <support@proxmox.com>  Thu, 19 Jan 2012 14:04:03 +0100

libpve-common-perl (1.0-12) unstable; urgency=low

  * new helper kvmkeymaplist()

  * fix bug 77: only use cmd2string when necessary
  
 -- Proxmox Support Team <support@proxmox.com>  Mon, 09 Jan 2012 11:44:11 +0100

libpve-common-perl (1.0-11) unstable; urgency=low

  * new helper run_with_timeout()

 -- Proxmox Support Team <support@proxmox.com>  Thu, 15 Dec 2011 11:25:01 +0100

libpve-common-perl (1.0-10) unstable; urgency=low

  * add helpers to implement migration

 -- Proxmox Support Team <support@proxmox.com>  Thu, 08 Dec 2011 11:03:54 +0100

libpve-common-perl (1.0-9) unstable; urgency=low

  * bug fixes for run_command()

 -- Proxmox Support Team <support@proxmox.com>  Fri, 02 Dec 2011 10:28:27 +0100

libpve-common-perl (1.0-8) unstable; urgency=low

  * make cli argument parser more flexible

 -- Proxmox Support Team <support@proxmox.com>  Wed, 23 Nov 2011 08:36:30 +0100

libpve-common-perl (1.0-7) unstable; urgency=low

  * bug fixes (see git log)

 -- Proxmox Support Team <support@proxmox.com>  Wed, 09 Nov 2011 10:07:38 +0100

libpve-common-perl (1.0-6) unstable; urgency=low

  * add PVE::Tools::random_ether_addr()

 -- Proxmox Support Team <support@proxmox.com>  Wed, 05 Oct 2011 09:19:39 +0200

libpve-common-perl (1.0-5) unstable; urgency=low

  * cleanups (prepare for beta release)

 -- Proxmox Support Team <support@proxmox.com>  Thu, 11 Aug 2011 07:23:00 +0200

libpve-common-perl (1.0-4) unstable; urgency=low

  * CLIHandler.pm: new command 'printmanpod' to generate manual pages.

 -- Proxmox Support Team <support@proxmox.com>  Wed, 10 Aug 2011 10:17:55 +0200

libpve-common-perl (1.0-3) unstable; urgency=low

  * fix CLIHandler.pm

 -- Proxmox Support Team <support@proxmox.com>  Fri, 05 Aug 2011 12:40:17 +0200

libpve-common-perl (1.0-2) unstable; urgency=low

  * depend on liburi-perl

 -- Proxmox Support Team <support@proxmox.com>  Thu, 14 Jul 2011 12:03:37 +0200

libpve-common-perl (1.0-1) unstable; urgency=low

  * initial package

 -- Proxmox Support Team <support@proxmox.com>  Mon, 09 Aug 2010 14:54:24 +0200

